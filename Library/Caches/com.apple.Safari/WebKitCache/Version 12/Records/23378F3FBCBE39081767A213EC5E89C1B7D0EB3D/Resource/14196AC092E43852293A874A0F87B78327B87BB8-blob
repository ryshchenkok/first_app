mw.loader.implement("ext.gadget.blpEditNotice@0qcb3qt",function($,jQuery,require,module){(function(){function addVeEditNotice(code){var target=ve.init.target;var actionsToolbar=target.actionsToolbar;var wasNoEditNotices=!actionsToolbar.tools.notices;if(wasNoEditNotices){if(actionsToolbar.items[0]&&actionsToolbar.items[0].items&&actionsToolbar.items[0].items[1]&&actionsToolbar.items[0].items[1]instanceof ve.ui.MWNoticesPopupTool&&actionsToolbar.items[0].items[0]&&actionsToolbar.items[0].items[0]instanceof ve.ui.MWHelpPopupTool){var noticesPopupTool=new ve.ui.MWNoticesPopupTool(actionsToolbar.items[0]);actionsToolbar.tools.notices=actionsToolbar.items[0].items[1]=noticesPopupTool;noticesPopupTool.$element.insertAfter($('.oo-ui-tool-name-help'));actionsToolbar.connect(noticesPopupTool,{updateState:'onUpdateState'});}else{console.error('Unable to add the edit notice tool to the VisualEditor toolbar');return;}}target.remoteNotices.unshift(code);target.editNotices.unshift(code);
actionsToolbar.tools.notices.setNotices(target.getEditNotices());if(wasNoEditNotices){setTimeout(function(){actionsToolbar.tools.notices.getPopup().toggle(true);},0);}}function addEditIntro(name){$('.mw-editsection, #ca-edit, #ca-ve-edit').find('a').each(function(i,el){el.href=$(this).attr('href')+'&editintro='+name;});if(mw.util.getParamValue('editintro')!==name){var editNoticeLoaded=!1;mw.libs.ve.addPlugin(function(){if(!editNoticeLoaded){new mw.Api().get({action:'parse',page:name,prop:'text',formatversion:2,}).done(function(data){if(data&&data.parse&&data.parse.text!==undefined){editNoticeLoaded=!0;if(data.parse.text){mw.hook('ve.activationComplete').add(function(){addVeEditNotice(data.parse.text);});}}});}});}}if(mw.config.get('wgNamespaceNumber')===0){runAsEarlyAsPossible(function(){var cats=mw.config.get('wgCategories');if(!cats)return;if($.inArray('Википедия:Биографии современников',cats)!==-1){addEditIntro(
'Шаблон:Editnotice/Ныне_живущие');}else if($.inArray('Википедия:Персоналии, умершие менее года назад',cats)!==-1){addEditIntro('Шаблон:Editnotice/Недавно_умершие');}},$('#ca-history'));}}());});mw.loader.implement("ext.gadget.collapserefs@1kv3kb1",function($,jQuery,require,module){if((mw.config.get('wgIsArticle')&&['edit','submit'].indexOf(mw.config.get('wgAction'))===-1)&&mw.util.getParamValue('printable')!=='yes'){mw.hook('wikipage.content').add(function(){var collapseState=mw.cookie.get('refcoll','')==='min'?'min':'max';var foundReflist;var time=$.now();$('#mw-content-text').find('.references-small').each(function(i,el){if(el.clientHeight<=((el.style.maxHeight&&el.style.maxHeight.replace('px',''))||el.style.height.replace('px','')||504)||el.clientHeight>el.parentNode.clientHeight){return;}foundReflist=!0;if(collapseState==='min'){$(el).addClass('references-compact');}$('<div>').addClass('collapseRefs'+($(el).hasClass('not-references')?' collapseRefs-notRefs':'')).append($('<a>').addClass('collapseRefs-link').attr('href','javascript:').attr('title','Большие блоки с примечаниями можно уменьшить').text(collapseState==='max'?
'↑ Показывать компактно':'↓ Показывать полностью').click(changeState)).insertBefore(el);});console.log('collapserefs: '+($.now()-time));if(!foundReflist){return;}function changeState(e){e.preventDefault();collapseState=collapseState==='max'?'min':'max';if(collapseState==='max'){$('.collapseRefs-link').text('↑ Показывать компактно').parent().next().removeClass('references-compact');}else{$('.collapseRefs-link').text('↓ Показывать полностью').parent().next().addClass('references-compact');}mw.cookie.set('refcoll',collapseState,{expires:1000*60*60*24*90,path:'/',prefix:''});}});}},{"css":[".collapseRefs{font-size:80%; margin:0.3375em 0 0.5em 3.6em}.collapseRefs-notRefs{ margin-left:1.03em}.references-compact{ max-height:40em;overflow:auto}"]});mw.loader.implement("ext.gadget.directLinkToCommons@1syw3g0",function($,jQuery,require,module){if(mw.config.get('wgNamespaceNumber',0)>=0){mw.loader.using('mediawiki.util').done(function(){$(function(){var commonsBase='//commons.wikimedia.org/wiki/File:',localBase=mw.util.getUrl(mw.config.get('wgFormattedNamespaces')['6']+':'),commonsBaseScript='//commons.wikimedia.org/w/index.php?title=File:',localBaseScript=mw.util.wikiScript()+'?title='+mw.util.wikiUrlencode(mw.config.get('wgFormattedNamespaces')['6']+':'),uploadBaseRe=new RegExp('^'+mw.RegExp.escape('//upload.wikimedia.org/wikipedia/commons/'));$('a.image').attr('href',function(i,currVal){if(uploadBaseRe.test($(this).find('img').attr('src'))){var url=currVal.replace(localBase,commonsBase).replace(localBaseScript,commonsBaseScript);url+=(/\?/.test(url)?'&':'?')+'uselang=ru';return url;}});});});}});mw.loader.implement("ext.gadget.edittop@0dec19m",function($,jQuery,require,module){runAsEarlyAsPossible(function addEditTopLinks(){if(mw.config.get('wgArticleId')&&mw.config.get('wgAction')==='view'){$('#mw-content-text').find('h2').children('.mw-editsection:first').clone().prependTo('#bodyContent').css('float','right').addClass('mw-content-ltr ve-hide').find('a').each(function(index){$(this).attr('title',zeroSectionTip);if($(this).attr('class')==='mw-editsection-visualeditor'){$(this).attr('href',mw.config.get('wgScript')+'?title='+mw.util.wikiUrlencode(mw.config.get('wgPageName'))+'&veaction=edit&section=0');}else{$(this).attr('href',mw.config.get('wgScript')+'?title='+mw.util.wikiUrlencode(mw.config.get('wgPageName'))+'&action=edit&section=0&summary=/*%20Преамбула%20*/%20');}});}},$('#mw-content-text').find('h2').next(),mw.hook('wikipage.content').add);});mw.loader.implement("ext.gadget.logo@13vpy60",function($,jQuery,require,module){},{"css":[]});mw.loader.implement("ext.gadget.referenceTooltips@1ra8xw0",function($,jQuery,require,module){(function(){var REF_LINK_SELECTOR='.reference, a[href^="#CITEREF"]',COMMENTED_TEXT_CLASS='ts-comment-commentedText',COMMENTED_TEXT_SELECTOR='.'+COMMENTED_TEXT_CLASS+', abbr[title]';var SECONDS_IN_A_DAY=60*60*24,CLASSES={FADE_IN_DOWN:'rt-fade-in-down',FADE_IN_UP:'rt-fade-in-up',FADE_OUT_DOWN:'rt-fade-out-down',FADE_OUT_UP:'rt-fade-out-up'},IS_TOUCHSCREEN='ontouchstart'in document.documentElement,IS_MOBILE=/Mobi|Android/i.test(navigator.userAgent)||typeof window.orientation!=='undefined',CLIENT_NAME=$.client.profile().name,settingsString,settings,enabled,delay,activatedByClick,tooltipsForComments,cursorWaitCss,windowManager,$body=$(document.body),$window=$(window);function rt($content){if(window.pg){return;}var teSelector,settingsDialogOpening=!1;function setSettingsCookie(){mw.cookie.set('RTsettings',Number(enabled)+'|'+delay+'|'+Number(activatedByClick)+'|'+Number(tooltipsForComments),{path:
'/',expires:90*SECONDS_IN_A_DAY});}function enableRt(){enabled=!0;setSettingsCookie();$('.rt-enableItem').remove();rt($content);mw.notify(mw.msg('rt-enabled'));}function disableRt(){$content.find(teSelector).removeClass('rt-commentedText').off('.rt');$body.off('.rt');$window.off('.rt');}function addEnableLink(){var $footer=$('#footer-places, #f-list');if(!$footer.length){$footer=$('#footer li').parent();}$footer.append($('<li>').addClass('rt-enableItem').append($('<a>').text(mw.msg('rt-enable-footer')).attr('href','javascript:').click(function(e){e.preventDefault();enableRt();})));}function TooltippedElement($element){var tooltip,te=this;function onStartEvent(e){if(activatedByClick){e.preventDefault();}if(!te.noRef){te.showRef($(this));}}function onEndEvent(){if(!te.noRef){te.hideRef();}}if(!$element){return;}this.$element=$element;this.$originalElement=$element;if(this.$element.is(REF_LINK_SELECTOR)){if(this.$element.prop('tagName')==='SUP'){this.type='supRef';}else{this.type=
'harvardRef';}}else{this.type='commentedText';this.comment=this.$element.attr('title');if(!this.comment){return;}this.$element.addClass('rt-commentedText');}this.$element.on(activatedByClick?{'click.rt':onStartEvent}:{'mouseenter.rt':onStartEvent,'mouseleave.rt':onEndEvent});this.hideRef=function(immediately){clearTimeout(te.showTimer);if(this.type==='commentedText'){this.$element.attr('title',this.comment);}if(this.tooltip&&this.tooltip.isPresent){if(activatedByClick||immediately){this.tooltip.hide();}else{this.hideTimer=setTimeout(function(){te.tooltip.hide();},200);}}else if(this.$ref&&this.$ref.hasClass('rt-target')){this.$ref.removeClass('rt-target');if(activatedByClick){$body.off('click.rt touchstart.rt',this.onBodyClick);}}};this.showRef=function($element){if(window.pg){disableRt();return;}var tooltipInitiallyPresent=this.tooltip&&this.tooltip.isPresent;function reallyShow(){var viewportTop,refOffsetTop,teHref;if(!te.$ref&&!te.comment){teHref=te.type==='supRef'?te.$element.find(
'a').attr('href'):te.$element.attr('href');te.$ref=teHref&&$('#'+$.escapeSelector(teHref.slice(1)));if(!te.$ref||!te.$ref.length||!te.$ref.text()){te.noRef=!0;return;}}if(!tooltipInitiallyPresent&&!te.comment){viewportTop=$window.scrollTop();refOffsetTop=te.$ref.offset().top;if(viewportTop<refOffsetTop&&viewportTop+$window.height()>refOffsetTop+te.$ref.height()){te.$ref.addClass('rt-target');return;}}if(!te.tooltip){te.tooltip=new Tooltip(te);if(!te.tooltip.$content.length){return;}}te.tooltip.parent=te.$element.closest('.rt-tooltip').data('tooltip');if(te.tooltip.parent&&te.tooltip.parent.disappearing){return;}te.tooltip.show();if(tooltipInitiallyPresent){if(te.tooltip.$element.hasClass('rt-tooltip-above')){te.tooltip.$element.addClass(CLASSES.FADE_IN_DOWN);}else{te.tooltip.$element.addClass(CLASSES.FADE_IN_UP);}return;}te.tooltip.calculatePosition();$window.on('resize.rt',te.onWindowResize);}this.$element=$element;if(this.type==='commentedText'){this.$element.attr('title','');}if(
activatedByClick){if(tooltipInitiallyPresent||(this.$ref&&this.$ref.hasClass('rt-target'))){return;}else{setTimeout(function(){$body.on('click.rt touchstart.rt',te.onBodyClick);},0);}}if(activatedByClick||tooltipInitiallyPresent){reallyShow();}else{this.showTimer=setTimeout(reallyShow,delay);}};this.onBodyClick=function(e){if(!te.tooltip&&!te.$ref.hasClass('rt-target')){return;}var $current=$(e.target);function contextMatchesParameter(parameter){return this===parameter;}while($current.length&&(!$current.hasClass('rt-tooltip')||!$current.data('tooltip')||!$current.data('tooltip').upToTopParent(contextMatchesParameter,[te.tooltip],true))){$current=$current.parent();}if(!$current.length){te.hideRef();}};this.onWindowResize=function(){te.tooltip.calculatePosition();};}function Tooltip(te){function openSettingsDialog(){var settingsDialog,settingsWindow;if(cursorWaitCss){cursorWaitCss.disabled=!0;}function SettingsDialog(){SettingsDialog.parent.call(this);}OO.inheritClass(SettingsDialog,OO
.ui.ProcessDialog);SettingsDialog.static.name='settingsDialog';SettingsDialog.static.title=mw.msg('rt-settings-title');SettingsDialog.static.actions=[{modes:'basic',action:'save',label:mw.msg('rt-save'),flags:['primary','progressive']},{modes:'basic',label:mw.msg('rt-cancel'),flags:'safe'},{modes:'disabled',action:'deactivated',label:mw.msg('rt-ready'),flags:['primary','progressive']}];SettingsDialog.prototype.initialize=function(){var dialog=this;SettingsDialog.parent.prototype.initialize.apply(this,arguments);this.enableOption=new OO.ui.RadioOptionWidget({label:mw.msg('rt-enable')});this.disableOption=new OO.ui.RadioOptionWidget({label:mw.msg('rt-disable')});this.enableSelect=new OO.ui.RadioSelectWidget({items:[this.enableOption,this.disableOption],classes:['rt-enableSelect']});this.enableSelect.selectItem(this.enableOption);this.enableSelect.on('choose',function(item){if(item===dialog.disableOption){dialog.activationMethodSelect.setDisabled(true);dialog.delayInput.setDisabled(true);
dialog.tooltipsForCommentsCheckbox.setDisabled(true);}else{dialog.activationMethodSelect.setDisabled(false);dialog.delayInput.setDisabled(dialog.clickOption.isSelected());dialog.tooltipsForCommentsCheckbox.setDisabled(false);}});this.hoverOption=new OO.ui.RadioOptionWidget({label:mw.msg('rt-hovering')});this.clickOption=new OO.ui.RadioOptionWidget({label:mw.msg('rt-clicking')});this.activationMethodSelect=new OO.ui.RadioSelectWidget({items:[this.hoverOption,this.clickOption]});this.activationMethodSelect.selectItem(activatedByClick?this.clickOption:this.hoverOption);this.activationMethodSelect.on('choose',function(item){if(item===dialog.clickOption){dialog.delayInput.setDisabled(true);}else{dialog.delayInput.setDisabled(dialog.clickOption.isSelected());}});this.activationMethodField=new OO.ui.FieldLayout(this.activationMethodSelect,{label:mw.msg('rt-activationMethod'),align:'top'});this.delayInput=new OO.ui.NumberInputWidget({input:{value:delay},step:50,min:0,max:5000,disabled:
activatedByClick,classes:['rt-numberInput']});this.delayField=new OO.ui.FieldLayout(this.delayInput,{label:mw.msg('rt-delay'),align:'top'});this.tooltipsForCommentsCheckbox=new OO.ui.CheckboxInputWidget({selected:tooltipsForComments});this.tooltipsForCommentsField=new OO.ui.FieldLayout(this.tooltipsForCommentsCheckbox,{label:new OO.ui.HtmlSnippet(mw.msg('rt-tooltipsForComments')),align:'inline',classes:['rt-tooltipsForCommentsField']});new TooltippedElement(this.tooltipsForCommentsField.$element.find('.'+COMMENTED_TEXT_CLASS));this.fieldset=new OO.ui.FieldsetLayout();this.fieldset.addItems([this.activationMethodField,this.delayField,this.tooltipsForCommentsField]);this.panelSettings=new OO.ui.PanelLayout({padded:!0,expanded:!1});this.panelSettings.$element.append(this.enableSelect.$element,$('<hr>').addClass('rt-settingsFormSeparator'),this.fieldset.$element);this.panelDisabled=new OO.ui.PanelLayout({padded:!0,expanded:!1});this.panelDisabled.$element.append($('<table>').
addClass('rt-disabledHelp').append($('<tr>').append($('<td>').append($('<img>').attr('src','https://ru.wikipedia.org/w/load.php?modules=ext.popups.images&image=footer&format=rasterized&lang=ru&skin=vector&version=0uotisb')),$('<td>').addClass('rt-disabledNote').text(mw.msg('rt-disabledNote')))));this.stackLayout=new OO.ui.StackLayout({items:[this.panelSettings,this.panelDisabled]});this.$body.append(this.stackLayout.$element);};SettingsDialog.prototype.getSetupProcess=function(data){return SettingsDialog.parent.prototype.getSetupProcess.call(this,data).next(function(){this.stackLayout.setItem(this.panelSettings);this.actions.setMode('basic');},this);};SettingsDialog.prototype.getActionProcess=function(action){var dialog=this;if(action==='save'){return new OO.ui.Process(function(){var newDelay=Number(dialog.delayInput.getValue());enabled=dialog.enableOption.isSelected();if(newDelay>=0&&newDelay<=5000){delay=newDelay;}activatedByClick=dialog.clickOption.isSelected();tooltipsForComments=
dialog.tooltipsForCommentsCheckbox.isSelected();setSettingsCookie();if(enabled){dialog.close();disableRt();rt($content);}else{dialog.actions.setMode('disabled');dialog.stackLayout.setItem(dialog.panelDisabled);disableRt();addEnableLink();}});}else if(action==='deactivated'){dialog.close();}return SettingsDialog.parent.prototype.getActionProcess.call(this,action);};SettingsDialog.prototype.getBodyHeight=function(){return this.stackLayout.getCurrentItem().$element.outerHeight(true);};tooltip.upToTopParent(function adjustRightAndHide(){if(this.isPresent){if(this.$element[0].style.right){this.$element.css('right','+='+(window.innerWidth-$window.width()));}this.te.hideRef(true);}});if(!windowManager){windowManager=new OO.ui.WindowManager();$body.append(windowManager.$element);}settingsDialog=new SettingsDialog();windowManager.addWindows([settingsDialog]);settingsWindow=windowManager.openWindow(settingsDialog);settingsWindow.opened.then(function(){settingsDialogOpening=!1;});
settingsWindow.closed.then(function(){windowManager.clearWindows();});}var tooltip=this;this.te=te;switch(this.te.type){case'supRef':this.id='rt-'+this.te.$originalElement.attr('id');this.$content=this.te.$ref.children().not('.mw-cite-backlink').clone(true);break;case'harvardRef':this.id='rt-'+this.te.$originalElement.closest('li').attr('id');this.$content=this.te.$ref.clone(true).removeAttr('id');break;case'commentedText':this.id='rt-'+String(Math.random()).slice(2);this.$content=$(document.createTextNode(this.te.comment));break;}if(!this.$content.length){return;}this.insideWindow=Boolean(this.te.$element.closest('.oo-ui-window').length);this.$element=$('<div>').addClass('rt-tooltip').attr('id',this.id).attr('role','tooltip').data('tooltip',this);if(this.insideWindow){this.$element.addClass('rt-tooltip-insideWindow');}this.$content=this.$content.wrapAll('<div>').parent().addClass('rt-tooltipContent').appendTo(this.$element);if(!activatedByClick){this.$element.mouseenter(function(){if(
!tooltip.disappearing){tooltip.upToTopParent(function(){this.show();});}}).mouseleave(function(e){if(CLIENT_NAME!=='chrome'||(!e.originalEvent||e.originalEvent.relatedTarget!==null||!tooltip.clickedTime||$.now()-tooltip.clickedTime>50)){tooltip.upToTopParent(function(){this.te.hideRef();});}}).click(function(){tooltip.clickedTime=$.now();});}if(!this.insideWindow){$('<div>').addClass('rt-settingsLink').attr('title',mw.msg('rt-settings')).click(function(){if(settingsDialogOpening){return;}settingsDialogOpening=!0;if(mw.loader.getState('oojs-ui')!=='ready'){if(cursorWaitCss){cursorWaitCss.disabled=!1;}else{cursorWaitCss=mw.util.addCSS('body { cursor: wait; }');}}mw.loader.using(['oojs','oojs-ui'],openSettingsDialog);}).prependTo(this.$content);}$('<div>').addClass('rt-tooltipTail').prependTo(this.$element);this.disappearing=!1;this.show=function(){this.disappearing=!1;clearTimeout(this.te.hideTimer);clearTimeout(this.te.removeTimer);this.$element.removeClass(CLASSES.
FADE_OUT_DOWN).removeClass(CLASSES.FADE_OUT_UP);if(!this.isPresent){$body.append(this.$element);}this.isPresent=!0;};this.hide=function(){var tooltip=this;tooltip.disappearing=!0;if(tooltip.$element.hasClass('rt-tooltip-above')){tooltip.$element.removeClass(CLASSES.FADE_IN_DOWN).addClass(CLASSES.FADE_OUT_UP);}else{tooltip.$element.removeClass(CLASSES.FADE_IN_UP).addClass(CLASSES.FADE_OUT_DOWN);}tooltip.te.removeTimer=setTimeout(function(){if(tooltip.isPresent){tooltip.$element.detach();if(tooltip.tailCss){tooltip.tailCss.disabled=!0;}if(activatedByClick){$body.off('click.rt touchstart.rt',tooltip.te.onBodyClick);}$window.off('resize.rt',tooltip.te.onWindowResize);tooltip.isPresent=!1;}},200);};this.calculatePosition=function(){var teElement,teOffset,teCenter,tooltipTailLeft,offsetYCorrection=0;if(this.tailCss){this.tailCss.disabled=!0;}teElement=this.te.$element.get(0);teOffset=teElement.getClientRects&&teElement.getClientRects()[0]?teElement.getClientRects()[0]:teElement.
getBoundingClientRect();teOffset={top:$window.scrollTop()+teOffset.top,left:$window.scrollLeft()+teOffset.left,width:teOffset.width,height:teOffset.height};teCenter=(teOffset.left*2+teOffset.width)/2;if(CLIENT_NAME==='msie'&&this.te.type==='supRef'){offsetYCorrection=-Number(this.te.$element.parent().css('font-size').replace('px',''))/2;}this.$element.css({top:teOffset.top-this.$element.outerHeight()-7+offsetYCorrection,left:teCenter-20,right:''});if(this.$element.offset().left+this.$element.outerWidth()>$window.width()-1){this.$element.css({left:'',right:0});tooltipTailLeft=teCenter-this.$element.offset().left-5;}if(teOffset.top<this.$element.outerHeight()+$window.scrollTop()+6){this.$element.removeClass('rt-tooltip-above').addClass('rt-tooltip-below').addClass(CLASSES.FADE_IN_UP).css({top:teOffset.top+teOffset.height+9+offsetYCorrection});if(tooltipTailLeft){this.tailCss=mw.util.addCSS('#'+$.escapeSelector(tooltip.id)+' .rt-tooltipTail { left: '+(tooltipTailLeft+12)+'px; }');}}else{
this.$element.removeClass('rt-tooltip-below').addClass('rt-tooltip-above').addClass(CLASSES.FADE_IN_DOWN).css({top:teOffset.top-this.$element.outerHeight()-7+offsetYCorrection});if(tooltipTailLeft){this.tailCss=mw.util.addCSS('#'+$.escapeSelector(tooltip.id)+' .rt-tooltipTail { left: '+tooltipTailLeft+'px; }');}}};this.upToTopParent=function(func,parameters,stopAtTrue){var returnValue,currentTooltip=this;do{returnValue=func.apply(currentTooltip,parameters);if(stopAtTrue&&returnValue){break;}}while(currentTooltip=currentTooltip.parent);if(stopAtTrue){return returnValue;}};}mw.messages.set({'rt-settings':'Настройки всплывающих примечаний','rt-enable-footer':'Включить всплывающие примечания','rt-settings-title':'Всплывающие примечания','rt-save':'Сохранить','rt-cancel':'Отмена','rt-enable':'Включить','rt-disable':'Отключить','rt-activationMethod':
'Подсказка появляется при','rt-hovering':'наведении','rt-clicking':'клике','rt-delay':'Задержка перед появлением подсказки (в миллисекундах)','rt-tooltipsForComments':'Показывать всплывающие подсказки над <span title="Пример всплывающей подсказки" class="'+COMMENTED_TEXT_CLASS+'" style="border-bottom: 1px dotted; cursor: help;">подчёркнутым точками текстом</span> в стиле всплывающих примечаний (позволяет видеть такие подсказки на устройствах, где не поддерживается мышь)','rt-disabledNote':'Вы можете включить всплывающие примечания обратно, используя ссылку внизу страницы.','rt-ready':'Готово','rt-enabled':
'Всплывающие подсказки с примечаниями включены'});if(!enabled){addEnableLink();return;}teSelector=REF_LINK_SELECTOR;if(tooltipsForComments){teSelector+=', '+COMMENTED_TEXT_SELECTOR;}$content.find(teSelector).each(function(){new TooltippedElement($(this));});}settingsString=mw.cookie.get('RTsettings');if(settingsString){settings=settingsString.split('|');enabled=Boolean(Number(settings[0]));delay=Number(settings[1]);activatedByClick=Boolean(Number(settings[2]));tooltipsForComments=settings[3]===undefined?IS_TOUCHSCREEN&&IS_MOBILE:Boolean(Number(settings[3]));}else{enabled=!0;delay=200;activatedByClick=IS_TOUCHSCREEN;tooltipsForComments=IS_TOUCHSCREEN&&IS_MOBILE;}mw.hook('wikipage.content').add(rt);}());},{"css":[
".rt-tooltip{position:absolute;z-index:90;max-width:350px;background:#fff;color:#222;font-size:13px;line-height:1.5em;border:1px solid #c8ccd1;border-radius:3px;-webkit-box-shadow:0 15px 45px -10px rgba(0,0,0,0.3);box-shadow:0 15px 45px -10px rgba(0,0,0,0.3);overflow-wrap:break-word}.rt-tooltip.rt-tooltip-insideWindow{z-index:110}.rt-tooltipContent{padding:9px 12px}.rt-tooltip-above .rt-tooltipContent{margin-bottom:-8px;padding-bottom:17px}.rt-tooltip-below .rt-tooltipContent{margin-top:-10px;padding-top:19px}.rt-tooltipTail,.rt-tooltipTail:after{position:absolute;width:12px;height:12px}.rt-tooltipTail{background:#c8ccd1;background:-webkit-linear-gradient(bottom left,#c8ccd1 50%,rgba(0,0,0,0) 50%);background:linear-gradient(to top right,#c8ccd1 50%,rgba(0,0,0,0) 50%)}.rt-tooltipTail:after{content:\"\";background:#fff;bottom:1px;left:1px}.rt-tooltip-above .rt-tooltipTail{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%;bottom:0;left:15px}.rt-tooltip-below .rt-tooltipTail{-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-transform-origin:0 0;transform-origin:0 0;top:0;left:27px}.rt-settingsLink{background-image:linear-gradient(transparent,transparent),url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%0D%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%3E%0D%0A%20%20%20%20%3Cpath%20fill%3D%22%23555%22%20d%3D%22M20%2014.5v-2.9l-1.8-.3c-.1-.4-.3-.8-.6-1.4l1.1-1.5-2.1-2.1-1.5%201.1c-.5-.3-1-.5-1.4-.6L13.5%205h-2.9l-.3%201.8c-.5.1-.9.3-1.4.6L7.4%206.3%205.3%208.4l1%201.5c-.3.5-.4.9-.6%201.4l-1.7.2v2.9l1.8.3c.1.5.3.9.6%201.4l-1%201.5%202.1%202.1%201.5-1c.4.2.9.4%201.4.6l.3%201.8h3l.3-1.8c.5-.1.9-.3%201.4-.6l1.5%201.1%202.1-2.1-1.1-1.5c.3-.5.5-1%20.6-1.4l1.5-.3zM12%2016c-1.7%200-3-1.3-3-3s1.3-3%203-3%203%201.3%203%203-1.3%203-3%203z%22%2F%3E%0D%0A%3C%2Fsvg%3E);float:right;cursor:pointer;margin:-4px -4px 0 8px;height:24px;width:24px;border-radius:2px;background-position:center center;background-repeat:no-repeat;background-size:24px 24px}.rt-settingsLink:hover{background-color:#eee}.rt-target{background-color:#def}.rt-enableSelect{font-weight:bold}.rt-settingsFormSeparator{margin:0.85714286em 0}.rt-numberInput.rt-numberInput{width:150px}.rt-tooltipsForCommentsField.rt-tooltipsForCommentsField.rt-tooltipsForCommentsField{margin-top:1.64285714em}.rt-disabledHelp{border-collapse:collapse}.rt-disabledHelp td{padding:0}.rt-disabledNote.rt-disabledNote{vertical-align:bottom;padding-left:0.36em;font-weight:bold}@-webkit-keyframes rt-fade-in-up{0%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@-moz-keyframes rt-fade-in-up{0%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@keyframes rt-fade-in-up{0%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@-webkit-keyframes rt-fade-in-down{0%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@-moz-keyframes rt-fade-in-down{0%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@keyframes rt-fade-in-down{0%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }100%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }}@-webkit-keyframes rt-fade-out-down{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }}@-moz-keyframes rt-fade-out-down{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }}@keyframes rt-fade-out-down{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,20px);-moz-transform:translate(0,20px);-ms-transform:translate(0,20px);transform:translate(0,20px) }}@-webkit-keyframes rt-fade-out-up{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }}@-moz-keyframes rt-fade-out-up{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }}@keyframes rt-fade-out-up{0%{opacity:1;-webkit-transform:translate(0,0);-moz-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0) }100%{opacity:0;-webkit-transform:translate(0,-20px);-moz-transform:translate(0,-20px);-ms-transform:translate(0,-20px);transform:translate(0,-20px) }}.rt-fade-in-up{-webkit-animation:rt-fade-in-up 0.2s ease forwards;-moz-animation:rt-fade-in-up 0.2s ease forwards;animation:rt-fade-in-up 0.2s ease forwards }.rt-fade-in-down{-webkit-animation:rt-fade-in-down 0.2s ease forwards;-moz-animation:rt-fade-in-down 0.2s ease forwards;animation:rt-fade-in-down 0.2s ease forwards }.rt-fade-out-down{-webkit-animation:rt-fade-out-down 0.2s ease forwards;-moz-animation:rt-fade-out-down 0.2s ease forwards;animation:rt-fade-out-down 0.2s ease forwards }.rt-fade-out-up{-webkit-animation:rt-fade-out-up 0.2s ease forwards;-moz-animation:rt-fade-out-up 0.2s ease forwards;animation:rt-fade-out-up 0.2s ease forwards }"
]});mw.loader.implement("ext.gadget.sidebarRelated@1imogj0",function($,jQuery,require,module){function addOtherProjects(){var $pLang=$('#p-lang');if(!$pLang.length||mw.config.get('wgAction')!=='view'||mw.config.get('wgNamespaceNumber')%2||mw.config.get('wgWikibaseItemId')===null){return;}function initMove($el,$list){var $pOtherLink=$('#t-wikibase').clone().addClass('wb-otherproject-link').css('display','list-item').removeAttr('id').appendTo($list);$('#t-wikibase').remove();$pOtherLink.attr('id','t-wikibase');if($list.children().length){$el.insertBefore($pLang);}}function moveWikidataElementLink(){var $pPrintExport=$('#p-coll-print_export');if(!$pPrintExport.length){$pPrintExport=$('#p-electronPdfService-sidebar-portlet-heading');}$pOther=$pPrintExport.clone().attr('id','p-wikibase-otherprojects');var $pOtherLabel=$pOther.find('h3');$pOtherList=$pOther.find('ul').empty();$pOtherLabel.text(mw.msg('wikibase-otherprojects'));if(cfSkin==='vector'){$pOther.attr('aria-labelledby',
'p-wikibase-otherprojects-label');$pOtherLabel.attr('id','p-wikibase-otherprojects-label');}initMove($pOther,$pOtherList);}var $pOther=$('#p-wikibase-otherprojects');var $pOtherList=$pOther.find('ul');var cfSkin=mw.config.get('skin');if($pOther.length){initMove($pOther,$pOtherList);}else{if(mw.config.get('wgUserLanguage')==='ru'){mw.messages.set('wikibase-otherprojects','В других проектах');moveWikidataElementLink();}else{$.when(mw.loader.using(['mediawiki.api.messages'])).then(function(){return new mw.Api().loadMessagesIfMissing(['wikibase-otherprojects']);}).then(moveWikidataElementLink);}}}runAsEarlyAsPossible(addOtherProjects);});mw.loader.implement("ext.gadget.wikibugs@17j90hc",function($,jQuery,require,module){(function(mw,$){if(mw.config.get('wgArticleId')===639373||mw.config.get('wgArticleId')===932117||mw.config.get('wgArticleId')===1297302||mw.config.get('wgArticleId')===25133866){return;}var wb$bugsPage='Википедия:Сообщения об ошибках';var wb$badPages=['Википедия:Сообщения об ошибках','Заглавная страница'];var wb$link=function(page){return mw.config.get('wgArticlePath').replace(/\$1/,page.replace(/ /g,'_'));};var wb$i18n={nsFile:'Файл:',nsSpecial:'Служебная:',nsCat:'Категория:',title:'Сообщение об ошибке',btnFix:'Исправить самостоятельно',btnReport:'Сообщить об ошибке',btnCancel:'Закрыть',btnSend:'Отправить',fldPage:'Название страницы',fldText:'Текст сообщения',fldTextInfo:
'Пожалуйста, опишите ошибку как можно точнее. При сообщении'+' о\u00A0фактической ошибке не забудьте указать источник, подтверждающий'+' вашу информацию.',fldCaptcha:'Проверочный код',fldSign:'Подпись',alertShort:'Описание ошибки слишком коротко. Пожалуйста, расширьте его.',alertNoPage:'Введите имя страницы.',alertCaptcha:'В вашем тексте содержатся внешние ссылки. Пожалуйста,'+' введите код с изображения и отправьте сообщение ещё раз.',alertError:'При отправке произошла ошибка. Попробуйте ещё раз.',msgSign:'\n\nАвтор сообщения:',newTopic:'новая тема',htmlIpWarn:
'<strong>Внимание.</strong> Ваш IP-адрес будет записан в журнал'+' изменений страницы.',htmlInfo:'<div style="float:right;width:200px;padding:4px 10px;\
			margin:2px 0px 0px 10px;font-size:90%;border:2px solid #a6170f;\
			border-radius:3px">\
				<p><strong>Не\u00A0сообщайте</strong> об\u00A0ошибках на\u00A0других\
					сайтах (например, <strong>«ВКонтакте»</strong> или\
					<strong>«Одноклассники»</strong>), они будут проигнорированы.</p>\
				<p>Отсутствие статьи в\u00A0Википедии\u00A0— не\u00A0ошибка, вы можете оставить\
					<a href="'+wb$link('Википедия:К созданию')+
'">запрос на её создание</a>.</p>\
			</div>\
			<p>Если вы заметили ошибку в\u00A0Википедии,\
				пожалуйста, исправьте её самостоятельно, используемая на\u00A0этом\
				сайте технология <a href="'+wb$link('вики')+'">вики</a>\
				позволяет это сделать.\
				Не\u00A0смущайтесь, одно из\u00A0правил Википедии гласит:\
				«<a href="'+wb$link('Википедия:Правьте смело')+
'">Правьте смело</a>»!\
				Если вы не\u00A0можете исправить ошибку самостоятельно, сообщите\
				о\u00A0ней с\u00A0помощью данной формы.</p><p><strong>Если ошибка\
				уже исправлена\u00A0— не\u00A0сообщайте о\u00A0ней.</strong></p>\
			<p>Не\u00A0оставляйте свой телефон и/или электронный адрес, ответ\
				на\u00A0сообщение будет дан только на\u00A0странице\
				с\u00A0сообщениями и нигде больше.</p>\
			<p><a href="'+wb$link(wb$bugsPage)+'">Текущий\
				список сообщений об ошибках</a></p>'};var wb$isValidPageName=function(name){if(!name||name.substr(0,name.indexOf(':')+1)===wb$i18n.nsSpecial){return false;}name=name.replace(/_/g,' ');for(var i=0;i<wb$badPages.length;i++){if(name===wb$badPages[i]){return false;}}return true;
};var wb$popWikibug=function(){var canEdit=!1,$editLink=$('#ca-edit a');if($editLink.length){canEdit=!0;}var $infoHtml=$('<div>').html($.parseHTML(wb$i18n.htmlInfo));if(!mw.config.get('wgUserName')){$infoHtml.append($('<p>').html($.parseHTML(wb$i18n.htmlIpWarn)));}var windowManager=new OO.ui.WindowManager();var infoDialog=new OO.ui.MessageDialog();$('body').append(windowManager.$element);windowManager.addWindows([infoDialog]);windowManager.openWindow(infoDialog,{title:wb$i18n.title,message:$infoHtml,actions:[{label:wb$i18n.btnFix,action:'edit',flags:'progressive'},{label:wb$i18n.btnReport,action:'report',flags:'progressive'},{label:wb$i18n.btnCancel},],size:'large',}).then(function(opened){opened.then(function(closing,data){if(data&&data.action==='edit'){var $editLink=$('#ca-edit a'),editUrl=mw.config.get('wgArticlePath').replace(/\$1/,wb$bugsPage);if($editLink.length){editUrl=$editLink.attr('href');}window.location.assign(editUrl);}else if(data&&data.action==='report'){var
inputPage=new OO.ui.TextInputWidget({placeholder:wb$i18n.fldPage,value:mw.config.get('wgPageName').replace(/_/g,' '),disabled:wb$isValidPageName(mw.config.get('wgPageName'))&&!mw.config.get('wgNamespaceNumber'),});var inputText=new OO.ui.MultilineTextInputWidget({placeholder:wb$i18n.fldTextInfo,rows:5});var inputCaptcha=new OO.ui.TextInputWidget({placeholder:wb$i18n.fldCaptcha,});var panelCaptcha=new OO.ui.FieldLayout(inputCaptcha,{label:wb$i18n.fldCaptcha,});panelCaptcha.toggle(false);var imageCaptcha=new OO.ui.ToggleWidget();imageCaptcha.$element.css('text-align','right');imageCaptcha.$element.append($('<img>').attr('id','wikibugs-captcha-img').attr('width',249).attr('height',63));imageCaptcha.toggle(false);var inputSign=new OO.ui.TextInputWidget({placeholder:wb$i18n.fldSign,value:mw.config.get('wgUserName')?'~~'+'~~':'',disabled:mw.config.get('wgUserName')});var fieldset=new OO.ui.FieldsetLayout({classes:['container'],});fieldset.addItems([new OO.ui.FieldLayout(inputPage,{label:
wb$i18n.fldPage,align:'top'}),new OO.ui.FieldLayout(inputText,{label:wb$i18n.fldText,align:'top'}),panelCaptcha,imageCaptcha,new OO.ui.FieldLayout(inputSign,{label:wb$i18n.fldSign,}),]);var form=new OO.ui.FormLayout({items:[fieldset],});function ReportDialog(config){ReportDialog.parent.call(this,config);}OO.inheritClass(ReportDialog,OO.ui.MessageDialog);ReportDialog.static.name='reportDialog';ReportDialog.prototype.getActionProcess=function(action){var dialog=this;if(action){return new OO.ui.Process(function(){if(action==='send'){dialog.getActions().setAbilities({send:!1});var content=inputText.getValue();if(content===''||content.length<20||!content.match(' ')){mw.notify(wb$i18n.alertShort);inputText.focus();dialog.getActions().setAbilities({send:!0});return;}var page=inputPage.getValue().replace(/^https?:\/\/ru\.wikipedia\.org\/wiki\/(.+)$/,'$1').replace(/_/g,' ');page=decodeURIComponent(page);var section;if(page===mw.config.get('wgPageName').replace(/_/g,' ')&&wb$isValidPageName
(mw.config.get('wgPageName'))){if(mw.config.get('wgNamespaceNumber')===6){section='[[:'+wb$i18n.nsFile+mw.config.get('wgTitle')+'|'+window.wgTitle+']]';content='[['+wb$i18n.nsFile+mw.config.get('wgTitle')+'|thumb|left|100px]]\n* '+content+'\n{{clear}}';}else{var re=new RegExp('^('+wb$i18n.nsCat+'|'+wb$i18n.nsFile+'|\\/)');section=page.replace(re,':$1');section='[['+section+']]';}}else{page=page.replace(/\[\[([^\[\]\|]+)\|[^\[\]\|]+\]\]/g,'$1').replace(/[\[\]\|]/g,'').replace(/^\s+/g,'').replace(/\s+$/g,'');if(!wb$isValidPageName(page)){mw.notify(wb$i18n.alertNoPage);if(wb$isValidPageName(mw.config.get('wgPageName'))){inputPage.setValue(mw.config.get('wgPageName'));}else{inputPage.setValue('');inputPage.focus();}dialog.getActions().setAbilities({send:!0});return;}if(page.indexOf(':')>0){section='[[:'+page+']]';}else{section='[['+page+']]';}}content+=wb$i18n.msgSign;if(!mw.config.get('wgUserName')){content+=' '+inputSign.getValue().trim();}content+=' ~~'+'~~';dialog.getActions().get()[
0].pushPending();var data={format:'json',action:'edit',title:wb$bugsPage,section:'new',sectiontitle:section,summary:'/* [['+page+']] */ '+wb$i18n.newTopic,text:content.trim(),token:mw.user.tokens.get('editToken')};var captchaId=$('#wikibugs-captcha-img').data('id');if(captchaId){data.captchaid=captchaId;data.captchaword=inputCaptcha.getValue().trim();}$.ajax({url:'/w/api.php',type:'POST',data:data,success:function(xhr){if(xhr&&xhr.edit&&xhr.edit.result==='Success'){var url=mw.config.get('wgArticlePath').replace(/\$1/,wb$bugsPage).replace(/ /g,'_');window.location.href=url+'#'+page;}else if(xhr&&xhr.edit&&xhr.edit.captcha&&xhr.edit.captcha.type==='image'){$('#wikibugs-captcha-img').attr('src',xhr.edit.captcha.url).data('id',xhr.edit.captcha.id);imageCaptcha.toggle(true);inputCaptcha.setValue('');panelCaptcha.toggle(true);dialog.getActions().get()[0].popPending();mw.notify(wb$i18n.alertCaptcha);dialog.getActions().setAbilities({send:!0});}else{dialog.getActions().get()[0].popPending();
mw.notify(wb$i18n.alertError);dialog.getActions().setAbilities({send:!0});}},error:function(){dialog.getActions().get()[0].popPending();mw.notify(wb$i18n.alertError);dialog.getActions().setAbilities({send:!0});}});}else{dialog.close();}});}return ReportDialog.parent.prototype.getActionProcess.call(this,action);};var reportDialog=new ReportDialog();windowManager.addWindows([reportDialog]);windowManager.openWindow(reportDialog,{title:wb$i18n.title,message:form.$element,actions:[{label:wb$i18n.btnSend,action:'send',flags:'progressive'},{label:wb$i18n.btnCancel},],size:'medium',});}});});};$(function(){$('#n-bug_in_article a').click(function(e){e.preventDefault();mw.loader.using(['mediawiki.api','oojs-ui-core','oojs-ui-widgets','oojs-ui-windows']).then(wb$popWikibug);});});}(mediaWiki,jQuery));});