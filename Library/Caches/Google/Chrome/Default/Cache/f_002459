!function(a){a.fn.arrivoAutocomplete=function(b){var c={currentItem:0,firstItem:"первый элемент",allResortsSel:!1,config:{max:7},init:function(c){var d=this;b.resort===!0&&a(function(){a(document).click(function(b){a(b.target).closest("#tours-fly-in-resort").length||a(b.target).closest(".tours-fly-in-resort_drop-down-list").length||(a(".tours-fly-in-resort_drop-down-list").hide(),b.stopPropagation())})}),a(d.config.element).css("display","none"),this.config.elementInput=c,this.config.element="."+a(c).attr("id")+"_drop-down-list",a(d.config.elementInput).keyup(function(c){if(40!=c.keyCode&&38!=c.keyCode&&13!=c.keyCode&&1!=b.resort){var e=a(this).val();d.getResult(e),d.currentItem=0}}),b.select===!0&&a(d.config.elementInput).focus(function(a){d.selectActive=!0;var b="";d.getResult(b),d.currentItem=0}),b.resort===!0&&a("#tours-fly-in-resort").click(function(){"true"===a(this).attr("data-changed")&&(a(this).attr("data-changed","false"),d.allResorts())}),setTimeout(function(){if(b.resort===!0){var c=a(d.config.elementInput).attr("data-selected");void 0!=c&&(c=c.split(" "),c.pop(),d.selected.ids=c)}},10),a(d.config.elementInput).focusout(function(c){if(d.selectActive===!0){if(d.allResortsSel===!0)return;var e=a(d.config.elementInput).val(),f=encodeURI(d.linkGen(b.link,e,b.resort,a("#tours-fly-in-country").attr("data-id")));a.ajax({url:f}).done(function(b){0===b.items.length&&(a(d.config.elementInput).val(""),d.config.elementInput.attr("data-city",void 0),d.config.elementInput.attr("data-country",void 0))});var e=a(d.config.elementInput).val(),f=encodeURI(d.linkGen(b.link,e,b.resort,a("#tours-fly-in-country").attr("data-id")));setTimeout(function(){"block"===a(d.config.element).css("display")&&1!=b.resort&&(a(d.config.element).css("display","none"),""===a(d.config.elementInput).val&&a(d.config.element).find("li:nth-child(1)").click(),d.selectActive=!1)},150)}else{console.log("Фокус убран");var g=d.config.elementInput.attr("data-city"),h=d.config.elementInput.attr("data-country"),i=g+", "+h,e=(d.wordCut(i,b.wordCutInput),a(d.config.elementInput).val()),f=encodeURI(d.linkGen(b.link,e,b.resort,a("#tours-fly-in-country").attr("data-id")));a.ajax({url:f}).done(function(b){0===b.items.length&&(a(d.config.elementInput).val(""),d.config.elementInput.attr("data-city",void 0),d.config.elementInput.attr("data-country",void 0))}),setTimeout(function(){"block"===a(d.config.element).css("display")&&(a(d.config.element).css("display","none"),a(d.config.element).find("li:nth-child(1)").click(),d.selectActive=!1)},150)}}),a(d.config.elementInput).keydown(function(a){40===a.keyCode&&(a.preventDefault(),d.itemSelect("next")),38===a.keyCode&&(a.preventDefault(),d.itemSelect("prev")),13===a.keyCode&&d.itemSelect("select")})},itemSelect:function(b){var c=this,d=a(c.config.element).find("li").length;"next"===b?this.currentItem!=d?this.currentItem+=1:this.currentItem=1:"prev"===b?1!=this.currentItem?this.currentItem-=1:this.currentItem=d:"select"===b&&(0===this.currentItem?a(c.config.element).find("li:nth-child(1)").click():a(c.config.element).find("li:nth-child("+c.currentItem+")").click());var e=this.currentItem;a(c.config.element).find("li").removeClass("drop-down-list_item--selected"),a(c.config.element).find("li:nth-child("+e+")").addClass("drop-down-list_item--selected")},selected:{ids:[]},wordFormat:function(a,b){var c,d;if(a%=100,a>=11&&a<=19)c=b[2];else switch(d=a%10){case 1:c=b[0];break;case 2:case 3:case 4:c=b[1];break;default:c=b[2]}return c},itemsBind:function(c){var d=this,e=d.selected.ids;a(".drop-down-list_item").bind("click",function(){var f,g;a(d.config.element).find("li:nth-child(1)")[0];if(b.toursCountry===!0&&setTimeout(function(){a("#tours-fly-in-resort").attr("data-id",""),a("#tours-fly-in-resort").attr("data-changed","true"),a("#tours-fly-in-resort").attr("data-allresort","true"),a("#tours-fly-in-resort").attr("data-selected",""),a("#tours-fly-in-resort").attr("data-country",a("#tours-fly-in-country").attr("data-id")),a("#tours-fly-in-resort").val("Все курорты"),d.selected.ids=[]},50),a(this).hasClass("all-resorts"))return d.allResorts(),a(this).addClass("selected"),void(e=[]);if(d.allResortsSel=!1,a(d.config.elementInput).removeAttr("data-allresort"),b.resort===!0){if(a(this).hasClass("selected")){a(this).removeClass("selected");for(var h=0;h<e.length;h++)e[h]===a(this).attr("data-id")&&e.splice(h,1)}else{a(this).addClass("selected");var i=a(this).attr("data-id");e.push(i),a(".all-resorts").removeClass("selected")}if(e.length>1){f=e.length+" "+d.wordFormat(e.length,["курорт","курорта","курортов"]),a(d.config.elementInput).val(f);for(var g="",j="",k=0;k<e.length;k++)g+="&cityIds[]="+e[k],j+=e[k]+" ";a(d.config.elementInput).attr("data-id",g),a(d.config.elementInput).attr("data-selected",j)}else if(0!=e.length){console.log("Выбран один пункт"),f=1!=b.wordsAmount?a(".selected").attr("data-city")+", "+a(".selected").attr("data-country"):a(".selected").attr("data-city"),g="&cityIds[]="+a(".selected").attr("data-Id"),a(d.config.elementInput).val(d.wordCut(f,b.wordCutInput)),a(d.config.elementInput).attr("data-id",g);for(var g="",j="",k=0;k<e.length;k++)g+="&cityIds[]="+e[k],j+=e[k]+" ";a(d.config.elementInput).attr("data-selected",j)}0===e.length&&(a(d.config.elementInput).val("Все курорты"),a(d.config.elementInput).attr("data-allresort","true"),a(d.config.elementInput).attr("data-id",""))}else f=1!=b.wordsAmount?a(this).attr("data-city")+", "+a(this).attr("data-country"):a(this).attr("data-city"),g=a(this).attr("data-Id"),dataCity=a(this).attr("data-city"),dataCountry=a(this).attr("data-country"),a(d.config.elementInput).val(d.wordCut(f,b.wordCutInput)),a(d.config.elementInput).attr("data-id",g),a(d.config.elementInput).attr("data-city",dataCity),a(d.config.elementInput).attr("data-country",dataCountry);1!=b.resort&&a(d.config.element).css("display","none")})},itemsUnbind:function(){a(".drop-down-list_item").unbind("click")},linkGen:function(a,b,c,d){var e;return e=c===!0?a+"countryId="+d+"&term="+b:a+b},getResult:function(c){var e,d=this;e=encodeURI(d.linkGen(b.link,c,b.resort,a("#tours-fly-in-country").attr("data-id")));var d=this;""!=c?a.ajax({url:e}).done(function(a){d.bildDOM(a.items)}):b.select===!0?a.ajax({url:e}).done(function(a){d.bildDOM(a.items)}):a(d.config.element).html("").css("display","none")},dataFilter:function(a){return 1!=b.wordsAmount?a.city=a.text.split(", ")[0]+",":a.city=a.text.split(", ")[0],a.country=a.text.split(", ").pop(),a},wordCut:function(a,b){return a.length-1>b?a.slice(0,b)+"...":a},allResorts:function(){var b=this;b.allResortsSel=!0,b.selected.ids=[],a(b.config.elementInput).attr("data-id",""),a(b.config.elementInput).attr("data-selected",""),a(b.config.elementInput).attr("data-allresort","true"),a(b.config.elementInput).val("Все курорты"),console.log(8),a(".fly-out-resort").find(".selected").each(function(b,c){a(c).removeClass("selected")}),a(".all-resorts").addClass("selected")},bildDOM:function(c){var d=this,f="";a(d.config.element).html(""),b.resort===!0&&(f=d.allResortsSel===!0?"selected":"",a(d.config.element).append(a("<li/>",{html:'<span class="drop-down-list_city"> Все курорты </span>',class:"drop-down-list_item all-resorts "+f})).css("display","block"),f="");for(var g=0;g<c.length;g++){c[g]=this.dataFilter(c[g]);for(var k,l,h=c[g].id,i=c[g].city,j=c[g].country,f="",m=0;m<d.selected.ids.length;m++)h===d.selected.ids[m]&&(f=" selected");1===b.wordsAmount?b.resort===!0?(k='<span class="drop-down-list_city"><i class="material-icons checked">&#xE834;</i><i class="material-icons unchecked">&#xE835;</i>'+d.wordCut(i,b.wordCutCity)+" </span>",l=i):(k='<span class="drop-down-list_city">'+d.wordCut(i,b.wordCutCity)+" </span>",l=i):(k='<span class="drop-down-list_city">'+d.wordCut(i,b.wordCutCity)+' </span><span class="drop-down-list_country">'+d.wordCut(j,b.wordCutCountry)+"</span>",l=i.slice(0,-1)),a(d.config.element).append(a("<li/>",{html:k,class:"drop-down-list_city drop-down-list_item"+f,attr:{"data-city":l,"data-country":j,"data-Id":h}})).css("display","block")}this.itemsUnbind(),this.itemsBind()}};return this.each(function(){var e,d=a(this);e=1!=b.select?d.attr("id")+"_drop-down-list":d.attr("id")+"_drop-down-list drop-down-list-select ";var f=a("<ul/>",{class:"drop-down-list "+e});f.insertAfter(d),c.init(d,".fly-out-city_drop-down-list")})}}(jQuery),$(".main-form_hotels_form .fly-out-city input").arrivoAutocomplete({link:"/hotel/autocomplete.html?term=",wordCutCity:10,wordCutCountry:13,wordCutInput:25}),$("#sidebar-hotels-fly-out-city").arrivoAutocomplete({link:"/hotel/autocomplete.html?term=",wordCutCity:10,wordCutCountry:15,wordCutInput:30}),$(".main-form_excursions_form .excursions-city input").arrivoAutocomplete({link:"/excursions/autocomplete.html?term=",wordCutCity:10,wordCutCountry:13,wordCutInput:125}),$(".main-form_auto_form .from-city input").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:10,wordCutCountry:13,wordCutInput:14}),$(".main-form_auto_form .to-city input").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:10,wordCutCountry:13,wordCutInput:14}),$("#sidebar-auto-from").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:20,wordCutCountry:15,wordCutInput:30}),$("#sidebar-auto-to").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:20,wordCutCountry:15,wordCutInput:30}),$("#horizontal-auto-from").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:20,wordCutCountry:15,wordCutInput:30}),$("#horizontal-auto-to").arrivoAutocomplete({link:"/car/autocomplete.html?term=",wordCutCity:20,wordCutCountry:15,wordCutInput:30}),$("#tours-fly-out-city").arrivoAutocomplete({link:"/travelata/origin-autocomplete.html?term=",wordCutCity:20,wordCutCountry:13,wordCutInput:13,wordsAmount:1,select:!0}),$("#tours-fly-in-country").arrivoAutocomplete({link:"/travelata/dest-country-autocomplete.html?term=",wordCutCity:20,wordCutCountry:13,wordCutInput:20,wordsAmount:1,select:!0,toursCountry:!0}),$("#tours-fly-in-resort").arrivoAutocomplete({link:"/travelata/dest-city-autocomplete.html?",wordCutCity:20,wordCutCountry:13,wordCutInput:12,wordsAmount:1,select:!0,resort:!0}),$("#horizontal-hotels-fly-out-city").arrivoAutocomplete({link:"/hotel/autocomplete.html?term=",wordCutCity:999,wordCutCountry:999,wordCutInput:999}),function(a){a.fn.arrivoAutocompleteAviasales=function(b){var c={currentItem:0,firstItem:"первый элемент",config:{match:!0,max:7},init:function(b){var c=this;a(c.config.element).css("display","none"),this.config.elementInput=b,this.config.element="."+a(b).attr("id")+"_drop-down-list",a(c.config.elementInput).keyup(function(b){if(40!=b.keyCode&&38!=b.keyCode&&13!=b.keyCode){var d=a(this).val();c.getResult(d),c.currentItem=0}}),a(c.config.elementInput).focusout(function(b){var d=a(c.config.elementInput).val();urlForAjax=c.config.match===!0?encodeURI("http://places.aviasales.ru/match?term="+d+"&locale=ru&max="+c.config.max):encodeURI("http://places.aviasales.ru/?term="+d+"&locale=ru&max="+c.config.max),""!=d&&a.ajax({url:urlForAjax}).done(function(b){void 0!=b.items&&0===b.items.length&&a(c.config.elementInput).val("")}),setTimeout(function(){"block"===a(c.config.element).css("display")&&(a(c.config.element).css("display","none"),a(c.config.element).find("li:nth-child(1)").click())},150)}),a(c.config.elementInput).keydown(function(a){40===a.keyCode&&(a.preventDefault(),c.itemSelect("next")),38===a.keyCode&&(a.preventDefault(),c.itemSelect("prev")),13===a.keyCode&&c.itemSelect("select")})},itemSelect:function(b){var c=this,d=a(c.config.element).find("li").length;"next"===b?this.currentItem!=d?this.currentItem+=1:this.currentItem=1:"prev"===b?1!=this.currentItem?this.currentItem-=1:this.currentItem=d:"select"===b&&(0===this.currentItem?a(c.config.element).find("li:nth-child(1)").click():a(c.config.element).find("li:nth-child("+c.currentItem+")").click());var e=this.currentItem;a(c.config.element).find("li").removeClass("drop-down-list_item--selected"),a(c.config.element).find("li:nth-child("+e+")").addClass("drop-down-list_item--selected")},itemsBind:function(c){var d=this;a(".drop-down-list_item").bind("click",function(){var f,g,e=a(d.config.element).find("li:nth-child(1)")[0];g=a(this).attr("data-iata"),a(this).attr("data-airport")===a(this).attr("data-city")?f=a(this).attr("data-city"):(f=a(this).attr("data-airport")||a(this).attr("data-city"),f=this===e?c===!0?a(this).attr("data-airport"):a(this).attr("data-city")||a(this).attr("data-city"):a(this).attr("data-airport")||a(this).attr("data-city")),a(d.config.elementInput).val(d.wordCut(f,b.wordCutInput)),a(d.config.elementInput).attr("data-iata",g),a(d.config.element).css("display","none")})},itemsUnbind:function(){a(".drop-down-list_item").unbind("click")},getResult:function(b){var c;c=this.config.match===!0?encodeURI("http://places.aviasales.ru/match?term="+b+"&locale=ru&max="+this.config.max):encodeURI("http://places.aviasales.ru/?term="+b+"&locale=ru&max="+this.config.max);var d=this;""!=b?a.ajax({url:c}).done(function(a){d.cityOrAirport(b,a)}):a(d.config.element).html("").css("display","none")},cityOrAirport:function(a,b){var c=this;b[0]&&(null!=b[0].airport_name&&a.substring(0,3)===b[0].airport_name.substring(0,3)?c.bildDOM(b,!0):c.bildDOM(b,!1))},dataFilter:function(a){return a.city=a.name.split(", ")[0]+",",a.country=a.name.split(", ").pop(),a},wordCut:function(a,b){return a.length-1>b?a.slice(0,b)+"...":a},bildDOM:function(c,d){var f,e=this,g="";a(e.config.element).html("");for(var h=0;h<c.length;h++){null!=c[h].airport_name&&void 0!=f&&(g=c[h].city_iata===f?" airport-padding":""),c[h]=this.dataFilter(c[h]);var m,i=c[h].airport_name+",",j=c[h].city,k=c[h].country,l=c[h].iata;null!=c[h].airport_name?(m=i===j?k:j.slice(0,-1),a(e.config.element).append(a("<li/>",{html:'<span class="drop-down-list_airport-name">'+e.wordCut(i,b.wordCutCity)+' </span><span class="drop-down-list_city">'+e.wordCut(m,b.wordCutCountry)+'</span><span class="drop-down-list_iata">'+l+"</span>",class:"drop-down-list_airport drop-down-list_item"+g,attr:{"data-city":j.slice(0,-1),"data-country":k,"data-airport":i.slice(0,-1),"data-iata":l}})).css("display","block")):a(e.config.element).append(a("<li/>",{html:'<span class="drop-down-list_city">'+e.wordCut(j,b.wordCutCity)+' </span><span class="drop-down-list_country">'+e.wordCut(k,b.wordCutCountry)+'</span><span class="drop-down-list_iata">'+l+"</span>",class:"drop-down-list_city drop-down-list_item",attr:{"data-city":j.slice(0,-1),"data-country":k,"data-iata":l}})).css("display","block"),f=null!=c[h].airport_name?c[h].city_iata:c[h].iata,g=""}this.itemsUnbind(),this.itemsBind(d)}};return this.each(function(){var b=a(this),d=b.attr("id")+"_drop-down-list",e=a("<ul/>",{class:"drop-down-list "+d});e.insertAfter(b),c.init(b,".fly-out-city_drop-down-list")})}}(jQuery),$(".main-form_tickets_form .fly-out-city input").arrivoAutocompleteAviasales({wordCutCity:10,wordCutCountry:13,wordCutInput:14}),$(".main-form_tickets_form .fly-in-city input").arrivoAutocompleteAviasales({wordCutCity:10,wordCutCountry:13,wordCutInput:14}),$("#sidebar-tickets-fly-out-city").arrivoAutocompleteAviasales({wordCutCity:20,wordCutCountry:13,wordCutInput:25}),$("#sidebar-tickets-fly-in-city").arrivoAutocompleteAviasales({wordCutCity:20,wordCutCountry:13,wordCutInput:25}),$("#horizontal-tickets-fly-out-city").arrivoAutocompleteAviasales({wordCutCity:15,wordCutCountry:13,wordCutInput:25}),$("#horizontal-tickets-fly-in-city").arrivoAutocompleteAviasales({wordCutCity:15,wordCutCountry:13,wordCutInput:25}),dataPickerClassChange=function(a){var b=$("#ui-datepicker-div")[0].className.split(" ")[5];$("#ui-datepicker-div").removeClass(b),$("#ui-datepicker-div").addClass(a)};var menuCountryResize=function(){var a=window.innerHeight,b=$(".menu_dropdown--countries"),c=$(b).css("height"),d={update:function(){a=window.innerHeight},check:function(){return a<700},resize:function(){var a=this;$(b).css({height:a.getHeight(),"overflow-y":"scroll"})},setInitial:function(){$(b).css({height:c,"overflow-y":"visible"})},getHeight:function(){return a-100+"px"}};return{resize:function(){d.update(),d.check()?d.resize():d.setInitial()}}}();$(window).resize(function(){menuCountryResize.resize()}),jQuery(document).ready(function(a){menuCountryResize.resize();var b;(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&(a(".menu").css("position","absolute"),a(window).scroll(function(){a("#menu").css("top",a(this).scrollTop()+"px")})),a(".menu_button--dd a").click(function(b){if(b.preventDefault(),a(this).parent().hasClass("menu_button--active"))a(".menu_button").removeClass("menu_button--active"),a(".menu_dropdown").css("display","none"),a(".country-item_menu").css("display","none");else{a(".menu_button").removeClass("menu_button--active"),a(".menu_dropdown").css("display","none"),a(this).parent().addClass("menu_button--active");var c="#menuDropdown"+a(this).parent().attr("id").slice(0,-3).slice(4);a(c).css("display","block")}}),a(document).click(function(c){0===a(c.target).closest(".menu_dropdown").length&&1!=a(c.target).parent().hasClass("menu_button--dd")&&1!=a(c.target).parent().parent().hasClass("menu_button--dd")&&(a(".menu_dropdown").css("display","none"),a(".menu_button").removeClass("menu_button--active"),a(".country-item_menu").css("display","none"),clearTimeout(b))}),a(".menu_dropdown--timeout").mouseleave(function(){var c=a(this);b=setTimeout(function(){a(c).css("display","none"),a(".menu_button").removeClass("menu_button--active"),a(".country-item_menu").css("display","none")},800)}),a(".menu_dropdown").mouseenter(function(){clearTimeout(b)}),a(".menu_button--dd").mouseenter(function(){clearTimeout(b)}),a(".menu_dropdown_main_countries").each(function(b,c){for(;a(c).children("div:not(.country-items-column)").length;)a(c).children("div:not(.country-items-column):lt(12)").wrapAll('<div class="country-items-column">')}),a(".menu_dropdown_main_countries .country-item").hover(function(){a(this).find("i.country-item_icon-arrow").stop().animate({opacity:1},40)}).mouseleave(function(){a(this).find("i.country-item_icon-arrow").stop().animate({opacity:0},40)}),a(".menu_dropdown_main_continents_item").click(function(){a(".menu_dropdown_main_continents_item--active").removeClass("menu_dropdown_main_continents_item--active"),a(this).addClass("menu_dropdown_main_continents_item--active"),a(".country-item_menu").css("display","none");var b="#"+a(this).attr("id").slice(0,-4).slice(4)+"Menu";a(".menu_dropdown_main_countries").css("display","none"),a(b).css("display","block")}),a("#menuCountriesClose").click(function(){a("#menuDropdownCountries").css("display","none"),a(".menu_button").removeClass("menu_button--active")}),a(document).click(function(b){0===a(b.target).closest(".country-item_menu").length&&1!=a(b.target).hasClass("country-item_icon-arrow")&&a(".country-item_menu").css("display","none")}),a(".country-item_icon-arrow").click(function(){var b=a(this).parent().find(".country-item_menu");"block"!=a(b).css("display")?(a(".country-item_menu").css("display","none"),a(b).css("display","block")):(a(".country-item_menu").css("display","none"),a(b).css("display","none"));var c=a(b).height(),d=a(b)[0].getBoundingClientRect().top+c;windowHeight=a(window).height(),fromTop="-"+c+"px",console.log(d),d>windowHeight?a(b).css("top",fromTop):b.css("top","37px")}),a(".menu-cities-close").click(function(){a(".country-item_menu").css("display","none")}),a("#menuSearchClose").click(function(){a("#menuDropdownSearch").css("display","none"),a(".menu_button").removeClass("menu_button--active")}),a("#menuSearchBut").click(function(){a("#sample1").focus()}),a(".login-link").click(function(b){b.preventDefault(),a(".menu_dropdown").css("display","none"),a(".menu_button").removeClass("menu_button--active"),a(".modal-form-login-header_input").addClass("is-active"),a("#login").addClass("is-active"),a(".modal-form-login-header_reg").removeClass("is-active"),a("#registration").removeClass("is-active"),a("#rememberPass").css("display","none"),a("#overlay").fadeIn(10,function(){a("#modal_form").css("display","block").animate({opacity:1},10)})}),a("#modal_close, #overlay").click(function(){a("#modal_form").animate({opacity:0},10,function(){a(this).css("display","none"),a("#overlay").fadeOut(10)})}),a(".remember-pass").click(function(b){b.preventDefault(),a("#rememberPass").css("display","block")}),a(".remember-pass-back").click(function(b){b.preventDefault(),a("#rememberPass").css("display","none")})});var setMetricaTarget=function(){return{mainBileti:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("bileti-forma-na-glavnoy")},mainOteli:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("oteli-forma-na-glavnoy")},sidebarBileti:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("bileti-forma-300-500")},sidebarOteli:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("oteli-forma-300-500")},putevoditelBileti:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("bileti-forma-putevoditel")},putevoditelOteli:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("oteli-forma-pitevoditel")},bannerBileti:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("bileti-banner-300-500")},bannerOteli:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("oteli-banner-300-500")},menuBileti:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("bileti-glavnoe-menu")},menuOteli:function(){void 0!==yaCounter9757951&&yaCounter9757951.reachGoal("oteli-glavnoe-menu")}}}();$(".sidebar__static-banner--aviasales").click(function(a){setMetricaTarget.bannerBileti()}),$(".sidebar__static-banner--hotels").click(function(a){setMetricaTarget.bannerOteli()}),$("#menuAviaBut").click(function(a){setMetricaTarget.menuBileti()}),$("#menuHotelsBut").click(function(a){setMetricaTarget.menuOteli()}),jQuery(document).ready(function(a){a(document).on("click","#allReviewsBut",function(){a(this).siblings(".comments_comment").show(),void 0!=a.fn.floatingBlock&&a(".sidebar_floating-block").floatingBlock("update"),a(this).hide()})});var searchSelect=function(){var a=$("#menuDropdownSearch").find("li"),b=$("#menuDropdownSearch").find(".mdl-textfield__input"),c=-1,d={init:function(){var d=this;c=-1,a=$("#menuDropdownSearch").find("li"),$(b).bind("keydown.selectSearchItem",function(b){40===b.keyCode&&c<a.length-1?(b.preventDefault(),d.changeItem("next")):38===b.keyCode&&c>0?(b.preventDefault(),d.changeItem("prev")):13===b.keyCode&&d.select(c)})},changeItem:function(a){"next"===a?c++:c--,this.clearAllActives(),this.setActive(c)},setActive:function(a){this.clearAllActives(),$($("#menuDropdownSearch").find("li")[a]).addClass("search-selected-item")},getURL:function(a){return url=$($("#menuDropdownSearch").find("li")[a]).find("a").attr("href"),url},clearAllActives:function(){$(".search-selected-item").removeClass("search-selected-item")},destroy:function(){c=-1,$("#menuDropdownSearch").find(".mdl-textfield__input").unbind("keydown.selectSearchItem")},update:function(){this.destroy(),this.init()},select:function(a){var b=this.getURL(a);void 0!=b&&(location.href=this.getURL(a),$("#menuDropdownSearch").hide())}};return{init:function(){d.init()},destroy:function(){d.destroy()},update:function(){d.update()}}}();$("#more-nodes-but").click(function(){var a=parseInt($(this).attr("data-page")),b=$(this).attr("data-exclude-type"),c=$(this).attr("data-exclude-id"),d=$(this),e="/more.html?page="+a;"undefined"!=typeof b&&(e+="&excludeType="+b),"undefined"!=typeof c&&(e+="&excludeId="+c),"undefined"!=typeof formsTaken&&(e+="&formsTaken="+formsTaken.join(",")),$.ajax(e).success(function(a){d.closest(".row").before(a),$("[data-short-share-count-url]:empty").each(function(){$(this).load("/site/sharecount?url="+$(this).data("short-share-count-url")+"&short=1")})}),$(this).attr("data-page",a+1)}),$("#menuDropdownSearch input").keyup(function(a){38!=a.keyCode&&40!=a.keyCode&&13!=a.keyCode&&(0!==$(this).val().length?$.post("/live_search.php",{query:$(this).val()},function(a){$("#menuDropdownSearchResults").html(a),searchSelect.update()}):$("#menuDropdownSearchResults").html(""))}),$(".chto-vzyat_tabs .mdl-tabs__tab, .chto-vzyat_tabs .select-gender").click(function(){$(".chto-vzyat_context:empty").html($(".chto-vzyat_context:not(:empty)").html())}),$("[data-share-count-url]").each(function(){$(this).load("/site/sharecount?url="+$(this).data("share-count-url"))}),$("[data-short-share-count-url]").each(function(){$(this).load("/site/sharecount?url="+$(this).data("short-share-count-url")+"&short=1")});var hash=$.trim(window.location.hash);"#login"===hash&&($("#overlay, #modal_form").show(),$("#modal_form").css("opacity",1));